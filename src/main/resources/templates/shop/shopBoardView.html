<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>GYM-PT</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script
   src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<link rel="stylesheet"
   href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
   integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
   crossorigin="anonymous">
<link
   href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
   rel="stylesheet"
   integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
   crossorigin="anonymous">
<script
   src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
   integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
   crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css"
   href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.css" />
<link rel="stylesheet"
   href="https://fonts.googleapis.com/icon?family=Material+Icons">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script
   src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
<link rel="stylesheet"
   href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
   integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
   crossorigin="anonymous">

<link rel="stylesheet" type="text/css"
   href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.css" />
<link rel="stylesheet"
   href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link th:href="@{/css/btnprimary.css}" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="/css/navbar.css">
<link rel="stylesheet" type="text/css" href="/css/footer.css">
<link th:href="@{/css/navbar.css}" rel="stylesheet">
<!-- navbar ìŠ¤íƒ€ì¼ -->
<link th:href="@{/css/footer.css}" rel="stylesheet">
<!-- footer ìŠ¤íƒ€ì¼ -->
<link th:href="@{/css/atag.css}" rel="stylesheet">
<!-- aíƒœê·¸ê´€ë ¨ ìŠ¤íƒ€ì¼ -->
<link th:href="@{/css/btnprimary.css}" rel="stylesheet">
<!-- btn ìŠ¤íƒ€ì¼ -->
</head>
<style>
.input-group-prepend span {
   position: absolute;
   left: 12px;
   top: 12px;
   font-size: 15px;
   transition: all 0.2s;
   pointer-events: none;
   color: gray;
}

.hidden {
   display: none;
}

.form-control:focus+.input-group-prepend span, .form-control:not(:placeholder-shown)+.input-group-prepend span
   {
   font-size: 10px;
   top: 4px;
   color: #007bff;
}

.form-control.content {
   padding: 15px;
   border-radius: 10px; /* ë‘¥ê·¼ í…Œë‘ë¦¬ë¥¼ ì ìš©í•  ê°’ */
}

.custom-input-group {
   height: 50px;
   display: flex;
   border: 1px solid #ced4da;
   border-radius: 10px; /* ë‘¥ê·¼ í…Œë‘ë¦¬ë¥¼ ì ìš©í•  ê°’ */
   overflow: hidden;
}

.custom-input-group .form-control {
   border: none;
}

body {
   background-color: #212529;
   color: #fff;
   font-size: 15px;
   margin: 0;
   padding: 0;
}

.header {
   background-color: #141414;
   color: #ffffff;
   padding: 20px;
   text-align: center;
}

.header h1 {
   margin: 0;
   position: relative;
}

.product-details-container {
   display: flex;
   justify-content: center;
   align-items: center;
   margin-bottom: 20px;
   margin-top: 20px;
}

.product-image {
   flex: 0 0 40%;
   max-width: 50%;
   margin-right: 10px;
}

.product-description {
   flex: 0 0 40%;
   max-width: 50%;
}

.product-name {
   font-size: 35px;
   font-weight: bold;
   margin-bottom: 10px;
   text-align: right;
}

.average-sRating {
   font-size: 18px;
   text-align: right;
}

.product-price {
   font-size: 18px;
   margin-bottom: 10px;
   text-align: right;
}

.input-group.hidden {
   display: none;
}

.add-to-cart-container {
   margin-top: 20px;
   text-align: right;
}

/* ìƒí’ˆí›„ê¸° ê¸€ì”¨ */
.form-container h3 {
   text-align: center;
}

/* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
.button-container {
   display: flex;
   flex-wrap: wrap;
   justify-content: space-between;
   border: none !important; /* í…Œë‘ë¦¬ ì œê±° */
}

/* ì¶”ê°€ëœ ìŠ¤íƒ€ì¼ */
.full-width-button {
   width: 100%;
   padding: 15px 20px; /* ì¥ë°”êµ¬ë‹ˆ ë²„íŠ¼ì˜ ë†’ì´ì™€ ê°€ë¡œ ì—¬ë°±ì„ ì¡°ì • */
   margin-top: 5px;
}

/* ì¶”ê°€ëœ ìŠ¤íƒ€ì¼ */
.button-group {
   display: flex;
   flex-basis: 100%;
   justify-content: space-between;
   margin-bottom: 5px;
}

/* ì¶”ê°€ëœ ìŠ¤íƒ€ì¼ */
.button-group .btn {
   flex-basis: calc(50% - 5px); /* í•œ ì¤„ì— 2ê°œì˜ ë²„íŠ¼ì´ ë“¤ì–´ê°€ë„ë¡ ì„¤ì •, ì—¬ìœ  ê³µê°„ì€ 5px */
}

/* ì¶”ê°€ëœ ìŠ¤íƒ€ì¼ */
.btn-danger {
   background-color: #FF8C00;
   color: #fff; /* í°ìƒ‰ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
   border: none !important; /* í…Œë‘ë¦¬ ì œê±° */
   transition: background-color 0.3s; /* í˜¸ë²„ íš¨ê³¼ì— ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€ */
}

/* ì¶”ê°€ëœ ìŠ¤íƒ€ì¼ */
.btn-primary {
   background-color: #9370DB;
   color: #fff; /* í°ìƒ‰ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
   border: none !important; /* í…Œë‘ë¦¬ ì œê±° */
   transition: background-color 0.3s; /* í˜¸ë²„ íš¨ê³¼ì— ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€ */
}

/* ì¶”ê°€ëœ ìŠ¤íƒ€ì¼ */
.btn-danger:hover {
   background-color: #ff4500; /* ë¹¨ê°„ìƒ‰ ê³„ì—´ë¡œ í˜¸ë²„ íš¨ê³¼ ìƒ‰ìƒ ë³€ê²½ */
}

/* ì¶”ê°€ëœ ìŠ¤íƒ€ì¼ */
.btn-primary:hover {
   background-color: #9932CC; /* ì§„í•œ íŒŒë€ìƒ‰ ê³„ì—´ë¡œ í˜¸ë²„ íš¨ê³¼ ìƒ‰ìƒ ë³€ê²½ */
}

/* ìƒí’ˆí›„ê¸° */
.rating {
   display: flex;
   align-items: center;
}

.rating input[type="radio"] {
   display: none;
}

.rating label {
   font-size: 2em;
   color: #ccc;
   cursor: pointer;
}

.rating label .material-icons {
   vertical-align: middle;
}

.rating input[type="radio"]:checked ~ label {
   color: #fada00;
}

.form-group textarea {
   width: 100%;
   resize: vertical;
}

.form-group button {
   margin-top: 20px;
}

.review-item {
   display: flex;
   align-items: flex-start;
   margin-bottom: 20px;
}

.review-item .review-content {
   margin-left: 10px;
}

.review-item .review-content p {
   margin: 0;
}

.review-item .review-content .review-info {
   display: flex;
   align-items: center;
   margin-bottom: 5px;
}

.review-item .review-content .review-info span {
   margin-right: 10px;
   font-size: 14px;
}

.review-item .review-content .review-actions {
   margin-left: auto;
}

/* Add this custom CSS to hide the input box's border */
.form-control.hidden-input {
   border: none;
   background-color: transparent;
   padding: 0;
}

/* ì…ë ¥ ìƒìì˜ í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ë§ì„ ìœ„í•œ ì»¤ìŠ¤í…€ CSS ì¶”ê°€ */
.hidden-input {
   color: white;
   font-weight: bold;
}
/* ì…ë ¥ ìƒìì˜ ì™¸ê³½ì„  ì œê±° */
.hidden-input.form-control {
   border: none;
   box-shadow: none;
}

.hidden {
   display: none;
}

.myform h4 {
   margin-right: 10px; /* ì›í•˜ëŠ” ê°„ê²©ìœ¼ë¡œ ì¡°ì •í•´ì£¼ì„¸ìš” */
}

.myform fieldset {
   display: inline-block;
   direction: rtl;
   border: 0;
}

.myform fieldset legend {
   text-align: right;
}

.myform input[type=radio] {
   display: none;
}

.myform label {
   font-size: 3em;
   color: transparent;
   text-shadow: 0 0 0 #f0f0f0;
   margin-right: 5px; /* ì›í•˜ëŠ” ê°„ê²©ìœ¼ë¡œ ì¡°ì •í•´ì£¼ì„¸ìš” */
}

.myform label:hover {
   text-shadow: 0 0 0 rgba(250, 208, 0, 0.99);
}

.myform label:hover ~ label {
   text-shadow: 0 0 0 rgba(250, 208, 0, 0.99);
}

.myform input[type=radio]:checked ~ label {
   text-shadow: 0 0 0 rgba(250, 208, 0, 0.99);
}

.starPoint {
   font-size: 2em;
   color: rgba(250, 208, 0, 0.99); /* ë…¸ë€ìƒ‰ìœ¼ë¡œ ë³€ê²½ (R: 250, G: 208, B: 0) */
   text-shadow: 0 0 0 #f0f0f0;
   margin-right: 5px; /* ì›í•˜ëŠ” ê°„ê²©ìœ¼ë¡œ ì¡°ì •í•´ì£¼ì„¸ìš” */
}

.product-details-container {
   display: flex;
   align-items: flex-start;
}

.product-image {
   flex: 0 0 50%;
   max-width: 50%;
}

.product-description {
   flex: 0 0 50%;
   max-width: 50%;
   padding-left: 20px;
}

.product-name {
   font-size: 18px;
   font-weight: bold;
   margin-bottom: 10px;
}

.product-price {
   margin-bottom: 10px;
}

.product-content {
   margin-bottom: 20px;
}

.add-to-cart-container {
   margin-top: 20px;
}

.custom-btn {
   border: none;
   background-color: transparent;
   color: orange;
   text-decoration: none;
   cursor: pointer;
}
/* ëª¨ë°”ì¼ í™”ë©´ì— ì ìš©ë˜ëŠ” ìŠ¤íƒ€ì¼ */
@media ( max-width : 767px) {
   .product-details-container {
      /* ì»¨í…Œì´ë„ˆë¥¼ ì„¸ë¡œë¡œ ì •ë ¬í•©ë‹ˆë‹¤. */
      display: flex;
      flex-direction: column;
      align-items: center;
   }
   .product-image {
      /* ì´ë¯¸ì§€ ìºëŸ¬ì…€ì„ ê°€ìš´ë° ì •ë ¬í•˜ê³  í¬ê¸°ë¥¼ ì¡°ì •í•©ë‹ˆë‹¤. */
      text-align: center;
      margin-bottom: 20px;
      max-width: 100%;
   }
   .product-name {
      font-size: 1.0em; /* ì›í•˜ëŠ” í¬ê¸°ë¡œ ì¡°ì •í•˜ì„¸ìš” */
   }
   .product-description {
      /* ì„¤ëª… ë¶€ë¶„ì„ ê°€ìš´ë° ì •ë ¬í•˜ê³  í¬ê¸°ë¥¼ ì¡°ì •í•©ë‹ˆë‹¤. */
      text-align: center;
      width: 90%; /* ì˜ˆì‹œë¡œ ë„ˆë¹„ë¥¼ 90%ë¡œ ì§€ì • */
      max-width: 800px;
      padding-left: 0px;
   }
   .product-price {
      /* ìƒí’ˆ ê°€ê²© ì˜ì—­ì„ ê°€ìš´ë° ì •ë ¬í•˜ê³  í¬ê¸°ë¥¼ ì¡°ì •í•©ë‹ˆë‹¤. */
      text-align: center;
      max-width: 800px;
      font-size: 1.5em;
      margin-bottom: 20px;
   }
   .add-to-cart-container {
      /* ì¥ë°”êµ¬ë‹ˆ ì˜ì—­ì„ ê°€ìš´ë° ì •ë ¬í•˜ê³  í¬ê¸°ë¥¼ ì¡°ì •í•©ë‹ˆë‹¤. */
      text-align: center;
      max-width: 800px;
   }
   .addToCart {
      /* ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸° ë²„íŠ¼ ì˜ì—­ì˜ ë„ˆë¹„ë¥¼ ì¡°ì •í•©ë‹ˆë‹¤. */
      width: 100%;
   }
}

.averageSRating {
   font-size: 1.5em;
   padding-top: 10px; /* ìœ„ìª½ìœ¼ë¡œ 10pxì˜ ì—¬ë°±ì„ ì¶”ê°€ */
}
</style>
<body style="background-color: #212529; overflow-x: hidden;">
   <nav
      class="navbar navbar-expand-lg navbar-light bg-light justify-content-start fixed-top">
      <a th:href="@{/index}" class="btn logo-icon-button">
         <img src="/logo/mainlogo2.png" alt="ë¡œê³ "
         style="max-height: 15%; max-width: 15%;"> <span style="font-size: 24px;">GYM_PT</span>
      </a>

      <button id="searchToggle" class="btn btn-primary pt-2" type="button">
         <i class="fas fa-search"></i>
      </button>

      <!-- ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì—ê²Œë§Œ ë³´ì—¬ì§ˆ ë‚´ìš© -->
      <div th:if="${#authentication.principal != 'anonymousUser'}">
         <button id="myToggle" class="btn profile-icon-button" type="button">
            <img th:src="@{/image/} + ${#authentication.principal.profile}"
               alt="Profile Picture"
               style="width: 30px; height: 30px; border-radius: 50%;">
         </button>
      </div>
      <!-- ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì§ˆ ë‚´ìš© -->
      <div th:unless="${#authentication.principal != 'anonymousUser'}">
         <a href="#"></a>
      </div>


      <a th:href="@{/chat/room}" class="btn chat-icon-button" type="button">
         <i class="material-icons">send</i>
      </a>

      <div id="searchFormWrapper"
         class="d-none d-flex align-items-center mx-auto">
         <form action="selectMember" method="get" class="ms-0"
            id="selectMemberForm">
            <!-- ì»´í“¨í„°ìš© -->
            <input type="hidden" id="curPage" name="curPage" th:value="0">
            <input type="hidden" id="rowSizePerPage" name="rowSizePerPage"
               th:value="${rp}">
            <div class="row justify-content-center">
               <div class="col-auto">
                  <div class="input-group">
                     <select class="form-select" id="searchType" name="searchType"
                        th:value="${st}" style="display: none;">
                        <option value="">ê²€ìƒ‰</option>
                        <option value="both" th:selected="${st == 'both'}">ì•„ì´ë””
                           ë˜ëŠ” ë‹‰ë„¤ì„</option>
                     </select> <input class="form-control bg-dark text-light" name="searchWord"
                        type="text" placeholder="ğŸ³ìœ ì € ê²€ìƒ‰" />
                     <button class="btn btn-primary" type="submit">ê²€ìƒ‰</button>
                  </div>
               </div>
            </div>
         </form>
      </div>

      <div th:if="${#authentication.principal != 'anonymousUser'}"
         id="myFormWrapper"
         class="d-none d-flex mx-auto flex-column align-items-center">
         <img th:src="@{/image/} + ${#authentication.principal.profile}"
            alt="Profile Picture"
            style="width: 80px; height: 80px; border-radius: 50%;">
         <p th:text="${#authentication.principal.nickname}" class="m-0"></p>
         <p th:text="${#authentication.principal.username}"
            style="color: gray;" class="m-0"></p>
			<a
				th:href="@{/getMember(id=${#authentication.principal.username})}"
				style="color: white;" class="m-0"><i class="fas fa-user"></i>
				ë§ˆì´ í˜ì´ì§€</a> <a href="logout" onclick="return confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')"
				style="color: white;" class="m-0"><i class="fas fa-sign-out-alt"></i>
				ë¡œê·¸ì•„ì›ƒ</a>
         <!-- ë¡œê·¸ì¸ ì•ˆë˜ì–´ìˆì„ë–„  -->
      </div>
   </nav>

   <div class="sidebar">
      <ul>
         <!-- ë¡œê·¸ì¸í•˜ì§€ ì•Šì€ ìƒíƒœì¼ ë•Œ ë¡œê·¸ì¸ ë° íšŒì›ê°€ì… ë§í¬ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤ -->
         <li th:if="${#authentication.principal == 'anonymousUser'}"
            class="login-signup"><a th:href="@{/login}">ë¡œê·¸ì¸</a> <a
            th:href="@{/insertMember}">íšŒì›ê°€ì…</a></li>

         <!-- ë¡œê·¸ì¸í•œ ìƒíƒœì¼ ë•Œ ì‚¬ìš©ì ë‹‰ë„¤ì„ì„ ë³´ì—¬ì¤ë‹ˆë‹¤ -->
         <li th:unless="${#authentication.principal == 'anonymousUser'}"><span
               th:text="${#authentication.principal.nickname}"></span>ë‹˜ ì ‘ì†ì¤‘
         </li>

         <li><hr></li>
         <!-- New list item for horizontal rule -->
         <li><a th:href="@{/index}"><i class="fas fa-home"></i> í™ˆ</a></li>
         <li><a th:href="@{/getCommunityList}"><i
               class="fas fa-users"></i> ì»¤ë®¤ë‹ˆí‹°</a></li>
         <li><a href="#" onclick="toggleSubMenu()"
            style="color: #289AFF;"><i class="fas fa-dumbbell"></i> ì‡¼í•‘ëª°</a>
            <ul id="submenu" class="submenu">
               <li><a th:href="@{/shopBoardList}"><i
                     class="fas fa-shopping-cart"></i> ì‡¼í•‘í•˜ê¸°</a></li>
               <li><a th:href="@{/cartList}"><i
                     class="fas fa-shopping-basket"></i> ì¥ë°”êµ¬ë‹ˆ</a></li>
               <li><a th:href="@{/orderList}"><i class="fas fa-list-ul"></i>
                     ì£¼ë¬¸ëª©ë¡</a></li>
               <li><a th:href="@{/insertPoint}"><i class="fas fa-coins"></i>
                     í¬ì¸íŠ¸ ì¶©ì „</a></li>
               <li><a th:href="@{/getBoardList}"><i
                     class="fas fa-headset"></i> ê³ ê°ì„¼í„°</a></li>
            </ul></li>
         <li><a th:href="@{/getNewsList}"><i class="fas fa-newspaper"></i>
               ë‰´ìŠ¤</a></li>
         <li><hr></li>
         <!-- New list item for horizontal rule -->
         <li><a th:href="@{/map}"><i class="fas fa-map-marker-alt"></i>
               ë‚´ ì£¼ë³€ í—¬ìŠ¤ì¥ ì°¾ê¸°</a></li>
         <li><a th:href="@{/selectMember}"><i class="fas fa-user"></i>
               ìœ ì € ê²€ìƒ‰</a></li>
         <li><a th:href="@{/getLikedCommunities}"><i
               class="fas fa-heart"></i> ì¢‹ì•„ìš” í•œ ê²Œì‹œë¬¼</a></li>
         <li><hr></li>
         <!-- New list item for horizontal rule -->
         <li><a th:href="@{/getInformlist}"><i
               class="fas fa-volume-up"></i> ê³µì§€ì‚¬í•­</a></li>
         <li><a th:href="@{/getBoardList}"><i class="fas fa-headset"></i>
               ë¬¸ì˜ì‚¬í•­</a></li>

         <li><hr></li>
         <li
            th:if="${#authorization.expression('hasAuthority(''ROLE_ADMIN'')')}">
            <a th:href="@{/adminpage}"> <i class="fas fa-user"></i> ê´€ë¦¬ì í˜ì´ì§€
         </a>
         </li>

         <!-- New list item for horizontal rule -->
      </ul>
   </div>


   <script>
      function toggleSubMenu() {
         var submenu = document.getElementById('submenu');
         submenu.classList.toggle('active');
      }
   </script>

   <div class="sidebar-toggle">
      <div class="bar"></div>
      <div class="bar"></div>
      <div class="bar"></div>
   </div>



   <script>
      $(document).ready(function() {
         $('.sidebar-toggle').on('click', function() {
            $('.sidebar').toggleClass('active');
            $(this).toggleClass('active');
         });

         $('.product-container').slick({
            slidesToShow : 3,
            slidesToScroll : 1,
            prevArrow : $('.carousel-control.left'),
            nextArrow : $('.carousel-control.right'),
            responsive : [ {
               breakpoint : 768,
               settings : {
                  slidesToShow : 1
               }
            } ]
         });
      });

      $(document).ready(function() {
         $("#searchToggle").on('click', function() {
            $("#searchFormWrapper").toggleClass('d-none'); // ê²€ìƒ‰ì°½ì„ ë³´ì´ê±°ë‚˜ ìˆ¨ê¹€
         });
      });

      $(document).ready(function() {
         $("#myToggle").on('click', function() {
            $("#myFormWrapper").toggleClass('d-none'); // ê²€ìƒ‰ì°½ì„ ë³´ì´ê±°ë‚˜ ìˆ¨ê¹€
         });
      });
   </script>
   <!-- nav -->

   <div class="container  mt-5 pt-5" align="center">
      <h1>GYM PT MALL ìƒí’ˆì •ë³´</h1>
   </div>

   <div class="container mt-3" align="center">
      <form th:action="@{/updateShop}" method="post">
         <input name="s_seq" type="hidden" th:value="${shop.sSeq}">


         <div class="product-details-container">
            <div class="product-image">
    <div id="carouselExample" class="carousel slide">
        <div class="carousel-inner">
            <th:block th:each="upload : ${#strings.arraySplit(shop.sUpload, ',')}">
                <div class="carousel-item" th:classappend="${uploadStat.first} ? 'active'">
                    <img th:if="${upload != null}" th:src="@{'/upload/' + ${upload}}" alt="ì‚¬ì§„" style="width: 50%; height: 50%;">
                    <div th:unless="${upload != null}">ìƒí’ˆ ì‚¬ì§„ ì—†ìŒ</div>
                </div>
            </th:block>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const carousel = document.getElementById('carouselExample');
        const carouselInstance = new bootstrap.Carousel(carousel, {
            interval: false // ì²˜ìŒì—ëŠ” ìë™ ìŠ¬ë¼ì´ë”©ì„ ë¹„í™œì„±í™”
        });

        let clickedOnce = false;

        carousel.addEventListener('click', function () {
            if (!clickedOnce) {
                carouselInstance.pause(); // í•œ ë²ˆ í´ë¦­í•œ í›„ ìë™ ìŠ¬ë¼ì´ë”©ì„ ë‹¤ì‹œ ì •ì§€
                clickedOnce = true;
            }
        });
    });
</script>
            <div class="product-description">
               <!-- ìƒí’ˆì´ë¦„ -->
               <div class="input-group mb-3 product-name">
                  <div th:text="${shop.sName}" style="font-size: 2em;"></div>
                  <input type="text" name="s_name" class="form-control hidden"
                     id="s_name" th:value="${shop.sName}" readonly>
               </div>
               <!-- ìƒí’ˆë¦¬ë·° ë³„ì  í‰ê·  -->
               <div class="input-group mb-3 average-sRating">
                  <!--    <span class= "starPoint" th:text="${'â˜†'.repeat(#numbers.formatInteger(averageSRating, 0, 'COMMA'))}"></span> -->
                  <span class="starPoint"> <script th:inline="javascript">
                           var averageRating = /*[[${averageSRating}]]*/;
                           var fullStars = Math.floor(averageRating);
                           var halfStar = averageRating - fullStars >= 0.5;
                           var emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
               
                           var stars = "â˜…".repeat(fullStars) + (halfStar ? "â˜…" : "") + "â˜†".repeat(emptyStars);
                           document.write(stars);
                       </script>
                  </span>
                  <div class="averageSRating" th:text="'('+${averageSRating}+')'"
                     style='font-size: 1.5em'></div>

               </div>
      </form>


      <div class="product-price">
         <!-- ìƒí’ˆê°€ê²© -->
         <div class="input-group mb-3">
            <!-- <span class="input-group-text" id="desc_title"><i class="fas fa-address-book"></i> ìƒí’ˆê°€ê²©</span> -->
            <!-- <span class="form-control hidden" th:text="${shop.sPrice}"></span> -->
            <span class="form-control hidden"
               th:text="${#numbers.formatInteger(shop.sPrice, 3, 'COMMA') + 'ì›'}"></span>
            <div style="font-size: 1.5em;"
               th:text="${#numbers.formatInteger(shop.sPrice, 3, 'COMMA') + 'ì›'}"></div>
         </div>
      </div>
      <!-- í˜„ì¬ê³  -->
      <div class="input-group mb-3"
         th:if="${#authorization.expression('hasRole(''ADMIN'')')}">
         <div class="input-group-text">
            <span><i class="fas fa-tag"></i>í˜„ì¬ê³ </span>
         </div>
         <input type="number" name="s_amount" class="form-control"
            id="s_amount" value="1" th:value="${shop.sAmount}" readonly>
         <div class="input-group-append"></div>
      </div>
      <!-- ì´ ê°€ê²© -->
      <div class="input-group mb-3 hidden">
         <span class="input-group-text"><i class="fas fa-calculator"></i></span>
         <span class="form-control" th:text="${shop.sPrice * shop.sAmount}"
            readonly></span>
      </div>

      <!-- ì‘ì„±ì -->
      <div class="input-group mb-3"
         th:if="${#authorization.expression('hasRole(''ADMIN'')')}">
         <span class="input-group-text" id="desc_title"><i
            class="fas fa-user"></i> ì‘ì„±ì</span> <span class="form-control"
            th:text="${shop.memberId}" disabled></span>
      </div>
      <hr>
      <div class="add-to-cart-container">

         <div class="addToCart">
            <form th:action="@{/addCart}" method="post">
               <input name="s_seq" type="hidden" class="form-control"  th:value="${shop.sSeq}">
               <div class="input-group mb-3 hidden">
                  <div class="input-group-text">
                     <i class="fas fa-pen"></i>
                  </div>
                  <input type="text" name="s_name" class="form-control" id="s_name"
                     th:value="${shop.sName}" readonly>
               </div>
               <div class="input-group mb-3 hidden">
                  <div class="input-group-text">
                     <i class="fas fa-pen"></i>
                  </div>
                  <input type="text" name="s_price" class="form-control"
                     id="s_price" th:value="${shop.sPrice}" readonly>
               </div>
               <div class="input-group mb-3 hidden">
                  <span class="input-group-text"><i class="fas fa-file"></i></span>
                  <input type="text" class="form-control"
                     th:value="${shop.sUploadThumb}" name="s_upload_thumb"
                     id="s_upload_thumb" readonly>
               </div>



               <!-- ìƒí’ˆì˜µì…˜ -->
               <div class="input-group mb-3 " style="font-size: 1.5em;">
                  <span>ìƒí’ˆì˜µì…˜</span>
               </div>
               <div class="input-group mb-3">
                  <input type="number" name="s_amount" class="form-control"
                     id="s_amount" th:value="${shop.sAmount &lt;= 0 ? 0 : 1}"
                     th:attr="disabled=${shop.sAmount &lt;= 0}" required>
                  <div class="input-group-append">
                     <!-- <button type="button" class="btn btn-outline-secondary" id="decreaseAmount"><i class="fas fa-minus"></i></button>
                    <button type="button" class="btn btn-outline-secondary" id="increaseAmount"><i class="fas fa-plus"></i></button> -->
                  </div>
               </div>
               <script>
                  $(document).ready(function() {
                     $("#decreaseAmount").click(function() {
                        var amountInput = $("#s_amount");
                        var amount = parseInt(amountInput.val());
                        if (amount > 1) {
                           amountInput.val(amount - 1);
                        }
                     });

                     $("#increaseAmount").click(function() {
                        var amountInput = $("#s_amount");
                        var amount = parseInt(amountInput.val());
                        amountInput.val(amount + 1);
                     });
                  });
               </script>

               <div class="text-center">
                  <div id="alertMessage" th:if="${param.message}"
                     class="alert alert-danger mt-3" role="alert"
                     style="font-size: 18px; color: white; background-color: #dc3545; border-color: #dc3545;">
                     <span th:text="${param.message}"></span>
                  </div>
                  <div id="message" class="alert alert-success mt-3"
                     style="display: none;"></div>
               </div>


               <button type="submit"
                  class="btn btn-danger mt-3 me-2 addToCart  full-width-button"
                  th:attr="disabled=${shop.sAmount &lt;= 0}"
                  th:text="${shop.sAmount &gt; 0 ? 'ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°' : 'í’ˆì ˆëœ ìƒí’ˆì…ë‹ˆë‹¤'}">
                  ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°</button>
               <div class="button-group">
                  <a th:href="@{/shopBoardList}"
                     class="btn btn-primary mt-3  full-width-button">ìƒí’ˆë³´ëŸ¬ ê°€ê¸°</a> <a
                     th:href="@{/cartList}"
                     class="btn btn-primary mt-3  full-width-button">ì¥ë°”êµ¬ë‹ˆ ê°€ê¸°</a>
               </div>
            </form>
         </div>
      </div>
      <div class="container"
         style="display: flex; justify-content: flex-end;">
         <a
            th:if="${#authorization.expression('hasAuthority(''ROLE_ADMIN'')')}"
            th:href="@{/updateShop(sSeq=${shop.sSeq})}"
            class="btn btn-primary mt-3 me-2">ê²Œì‹œê¸€ìˆ˜ì •</a> <a
            th:if="${#authorization.expression('hasAuthority(''ROLE_ADMIN'')')}"
            th:href="@{/deleteShop(sSeq=${shop.sSeq})}"
            onclick="return confirmDeleteShop()"
            class="btn btn-primary mt-3 me-2">ê²Œì‹œê¸€ì‚­ì œ</a>

         <script>
  function confirmDeleteShop() {
    if (confirm("ì •ë§ ê²Œì‹œê¸€ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
      return true; // ì˜ˆë¥¼ ì„ íƒí•œ ê²½ìš° ê²Œì‹œê¸€ ì‚­ì œ ì§„í–‰
    } else {
      return false; // ì•„ë‹ˆì˜¤ë¥¼ ì„ íƒí•œ ê²½ìš° ì•Œë¦¼ì°½ ë‹«ê¸°
    }
  }
</script>
      </div>
   </div>
   </div>
   <br />


   <!-- ìˆ˜ì •ëœ ë³¸ë¬¸ -->
   <ul>
      <th:block th:each="shop : ${shop}">
         <li style="list-style-type: none;">
            <div class="s_upload_content"
               th:if="${not #strings.isEmpty(shop.sUploadContent)}">
               <div th:each="upload : ${shop.sUploadContent.split(',')}">
                  <img th:src="@{'/upload/' + ${upload}}" alt="ì‚¬ì§„"
                     style="width: 50%; height: 50%;">
               </div>
            </div>
         </li>
      </th:block>
   </ul>
   <div class="input-group mb-3">
      <!--    <span class="input-group-text"><i class="fas fa-clipboard"></i> ë³¸ë¬¸</span> -->
      <span class="form-control hidden" th:text="${shop.sContent}" rows="15"></span>
      <div class="hidden" th:text="${shop.sContent}" align="center"></div>
   </div>
   </div>
   <!--   <a th:href="@{pay}" class="btn btn-danger mt-3">ë°”ë¡œêµ¬ë§¤</a> -->
   <hr />
   <!-- ë¦¬ë·°í¼ -->
   <div class="container mt-3" align="center">
      <div class="container mt-3" align="left">
         <h2>ìƒí’ˆí›„ê¸°</h2>
      </div>
      <ul>
         <li th:each="shopReply : ${shopReply}" style="list-style-type: none;">
            <div style="display: flex; align-items: flex-start;">
               <div style="font-size: 17px;">
                  <div class="input-group mt-3 col-lg-1 starPoint">
                     <span style="display: block; text-align: left;"> <span
                        th:text="${'â˜…'.repeat(#numbers.formatInteger(shopReply.sRating, 0, 'COMMA'))}"></span>
                     </span>
                     <!-- ëŒ“ê¸€ ì‚­ì œ ë²„íŠ¼ -->
                     <div
                        th:if="${#authentication.principal.username == shopReply.memberId || #authorization.expression('hasAuthority(''ROLE_ADMIN'')')}">
                        <a class="btn btn-primary mt-3"
                           onclick="return confirmWithdrawal()"
                           th:href="@{/deleteReply(sSeq=${shop.sSeq},sRno=${shopReply.sRno})}"
                           style="margin-left: 10px;"> <i class="fas fa-trash-alt"></i>
                        </a>
                     </div>
                  </div>
                  <span style="display: block; text-align: left;"
                     th:text="${shopReply.memberId} + ' / ' + ${#dates.format(shopReply.srDate, 'yyyy-MM-dd HH:mm')}"></span>
                  <br /> <span style="display: block; text-align: left;"
                     th:text="${shopReply.srContent}"></span>
                  <div style="display: flex; flex-wrap: wrap;">
                     <button
                        th:unless="${shopReply.srUpload == null or shopReply.srUpload == ''}"
                        type="button" onclick="toggleImages(this)"
                        class="btn btn-link custom-btn">ì‚¬ì§„ë³´ê¸°</button>
                     <div th:if="${shopReply.srUpload != null}"
                        style="display: inline-block;">
                        <div
                           th:each="review, idx : ${#strings.arraySplit(shopReply.srUpload, ',')}"
                           style="margin-right: 5px;">
                           <img th:src="@{'/review/' + ${review}}" alt="ì‚¬ì§„"
                              style="width: 50%; height: 50%; margin-bottom: 5px; display: none;"><br />
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </li>



         <script>
              // ë©”ì‹œì§€ë¥¼ ì¼ì • ì‹œê°„(ì˜ˆ: 3ì´ˆ) í›„ì— ìˆ¨ê¸°ëŠ” í•¨ìˆ˜
             function hideAlertMessage() {
                 var alertMessage = document.getElementById("alertMessage");
                 if (alertMessage) {
                     alertMessage.style.display = "none";
                 }
             }
             // 3ì´ˆ í›„ì— ë©”ì‹œì§€ë¥¼ ìˆ¨ê¸°ê¸°
                setTimeout(hideAlertMessage, 3000); // 3000ms = 3ì´ˆ
          
             var isImageVisibleList = []; // Array to store visibility state for each reply
         
             function confirmWithdrawal() {
                 if (confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                     return true; // ì˜ˆë¥¼ ì„ íƒí•œ ê²½ìš° ëŒ“ê¸€ì‚­ì œ ì§„í–‰
                 } else {
                     return false; // ì•„ë‹ˆì˜¤ë¥¼ ì„ íƒí•œ ê²½ìš° ì•Œë¦¼ì°½ ë‹«ê¸°
                 }
             }
         
             function toggleImages(button) {
                 var imageContainer = button.nextElementSibling;
                 var images = imageContainer.querySelectorAll("img");
                 var replyIndex = getIndex(button);
         
                 isImageVisibleList[replyIndex] = !isImageVisibleList[replyIndex];
         
                 for (var i = 0; i < images.length; i++) {
                     images[i].style.display = isImageVisibleList[replyIndex] ? "inline" : "none";
                 }
         
                 var toggleButtonText = button.textContent;
                 button.textContent = isImageVisibleList[replyIndex] ? "ìˆ¨ê¸°ê¸°" : "ì‚¬ì§„ë³´ê¸°";
             }
         
             function getIndex(element) {
                 var parent = element.parentNode;
                 var index = Array.prototype.indexOf.call(parent.children, element);
                 return index;
             }
         </script>

      </ul>



      <form method="post" action="/writeReply" enctype="multipart/form-data">
         <h3>í›„ê¸°ì‘ì„±</h3>

         <p>
            <input class="form-control" type="hidden" name="s_seq" th:value="${shop.sSeq}">
         <div class="input-group mt-3 col-lg-1 myform">
            <fieldset>
               <h4>?ìƒí’ˆì€ ë§Œì¡±í•˜ì…¨ë‚˜ìš”</h4>
               <div class="rating">
                  <input type="radio" id="star5" name="sRating" value="5" required>
                  <label for="star5">â˜…</label> <input type="radio" id="star4"
                     name="sRating" value="4"> <label for="star4">â˜…</label> <input
                     type="radio" id="star3" name="sRating" value="3"> <label
                     for="star3">â˜…</label> <input type="radio" id="star2"
                     name="sRating" value="2"> <label for="star2">â˜…</label> <input
                     type="radio" id="star1" name="sRating" value="1"> <label
                     for="star1">â˜…</label>
               </div>
               <span id="ratingError" style="color: red; display: none;">ë³„ì ì„
                  ì„ íƒí•´ì£¼ì„¸ìš”.</span>
            </fieldset>
         </div>

         </p>
         <p>
         <div class="input-group mb-4 custom-input-group">
            <input class="form-control" type="text" id="memberId"
               name="memberId" th:value="${#authentication.principal.username}"
               readonly="readonly">
            <div class="input-group-prepend">
               <span id="replyContent">ëŒ“ê¸€ ì‘ì„±ì</span>
            </div>
         </div>


         <p>
         <div class="input-group mb-3">
            <input type="file" class="form-control" name="uploadFiles"
               id="uploadFiles" aria-describedby="Upload" aria-label="Upload"
               multiple>
            <div id="replyPreview"></div>
            <script>
                // ì»¨í…ì¸  ì´ë¯¸ì§€ ì—…ë¡œë“œ inputì˜ change ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.
                document.getElementById("uploadFiles").addEventListener("change", function(event) {
                    // ì»¨í…ì¸  ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°ë¥¼ í‘œì‹œí•  div ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
                    var contentPreviewDiv = document.getElementById("replyPreview");
                    
                    // ì´ì „ì— ë¯¸ë¦¬ë³´ê¸°í•œ ì´ë¯¸ì§€ê°€ ìˆë‹¤ë©´ ì œê±°í•©ë‹ˆë‹¤.
                    contentPreviewDiv.innerHTML = "";
            
                    // ì„ íƒí•œ ì´ë¯¸ì§€ íŒŒì¼ë“¤ì„ ì½ì–´ì™€ì„œ ì»¨í…ì¸  ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
                    var files = event.target.files;
                    for (var i = 0; i < files.length; i++) {
                        var file = files[i];
                        var reader = new FileReader();
            
                        reader.onload = function(event) {
                            // ì»¨í…ì¸  ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ìœ„í•œ img ì—˜ë¦¬ë¨¼íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
                            var img = document.createElement("img");
                            img.src = event.target.result;
                            img.alt = "ì‚¬ì§„";
                            img.style.width = "50%";
                            img.style.height = "50%";
            
                            // ì´ë¯¸ì§€ë¥¼ ë¯¸ë¦¬ë³´ê¸°í•  divì— ì¶”ê°€í•©ë‹ˆë‹¤.
                            contentPreviewDiv.appendChild(img);
                        }
            
                        reader.readAsDataURL(file); // ì´ë¯¸ì§€ íŒŒì¼ì„ Data URLë¡œ ì½ì–´ì˜µë‹ˆë‹¤.
                    }
                });
               </script>
         </div>
         </p>
         <p>
         <div class="input-group mb-4 ">
            <textarea class="form-control content" rows="5" cols="50"
               name="srContent" required placeholder=" "></textarea>
            <div class="input-group-prepend">
               <span id="replyContent">ë¦¬ë·°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”</span>
            </div>
         </div>
         </p>

         <p>
            <!--  <div th:if="${replyMessage}" class="alert alert-danger mt-3" role="alert">
                <span th:text="${replyMessage}"></span>
            </div>
            <div id="message" class="alert alert-success mt-3" style="display: none;"></div> -->

            <button class="btn btn-primary mt-3" type="submit">ëŒ“ê¸€ ì‘ì„±</button>
         </p>

      </form>


   </div>

   <!-- footer -->
   <div class="footer" style="margin-top: auto;">
      <div class="container" align="left">
         <div class="row">
            <div class="col-md-4 footer-section">
               <a href="#" class="footer-logo">GYM_PT</a>
               <p class="dimmed-text">Growth Your Momentum-PT</p>
               <div class="social-icons">
                  <a href="#" class="facebook"><i class="fab fa-facebook-f"></i></a>
                  <a href="#" class="twitter"><i class="fab fa-twitter"></i></a> <a
                     href="#" class="instagram"><i class="fab fa-instagram"></i></a> <a
                     href="#" class="linkedin"><i class="fab fa-linkedin-in"></i></a>
               </div>
            </div>

            <div class="col-md-4 footer-section">
               <h4>About Us</h4>
               <div class="dimmed-text">
                  <div class="contact-info">ëŒ€í‘œì´ì‚¬: ê¹€ì—°ìˆ˜ | ì‚¬ì—…ìë“±ë¡ ë²ˆí˜¸: 809-81-01574</div>
                  <div class="contact-info">ì˜ì—… ì‹œê°„: í‰ì¼ 9:00-18:00</div>
                  <div class="contact-info">íšŒì‚¬ ì‹ ë…: "Growth Your Momentum-PT"</div>
                  <div class="contact-info">ìˆ˜ìƒ: "2023ë…„ ìµœê³ ì˜ í”¼íŠ¸ë‹ˆìŠ¤ ì›¹ì‚¬ì´íŠ¸"ë¡œ ì„ ì •</div>
               </div>
            </div>
            <div class="col-md-4 footer-section">
               <h4>Contact Us</h4>
               <div class="dimmed-text">
                  <div>ì£¼ì†Œ: ì„œìš¸ì‹œ ì†¡íŒŒêµ¬ ê°€ë½ë™</div>
                  <div>ì „í™”: 1588-3819 (í‰ì¼ 9:00-18:00)</div>
                  <div>ê²°ì œë„ìš©ì‹ ê³ : 1588-3816</div>
                  <div>ì´ë©”ì¼: help@gympt.com</div>
                  <div>ê³ ê°ì„¼í„° ì´ìš©ì•ˆë‚´: ê³ ê°ë‹˜ì˜ ì†Œì¤‘í•œ ì˜ê²¬ì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.</div>
               </div>
            </div>
         </div>
         <hr>
         <div class="row">
            <div class="col-md-12">
               <p class="text-center">&copy; 2023 GYM_PT. All Rights Reserved.</p>
            </div>
         </div>
      </div>
   </div>
   <!-- footer -->
</body>
</html>